(self.webpackChunkaqualuxe_theme=self.webpackChunkaqualuxe_theme||[]).push([[682],{676:function(){!function(t){"use strict";var e={init:function(){this.setupKeyboardNavigation(),this.setupSkipLinks(),this.setupFocusManagement(),this.setupARIALabels(),this.setupHighContrast(),this.setupTextScaling(),this.setupScreenReaderEnhancements(),this.setupReducedMotion(),this.setupFormAccessibility(),this.setupModalAccessibility(),this.setupCarouselAccessibility(),this.addAccessibilityControls()},setupKeyboardNavigation:function(){t("button, a, input, select, textarea, [tabindex]").each(function(){t(this).attr("tabindex")||t(this).is(":disabled")||t(this).attr("tabindex","0")}),t(document).on("keydown",function(e){"Escape"===e.key&&(t(".modal.is-active .modal-close").trigger("click"),t(".dropdown.is-active").removeClass("is-active"),t(".mobile-menu.is-open").removeClass("is-open"))}),t(".nav-menu").on("keydown","a",function(e){var a=t(this).closest(".nav-menu").find("a"),i=a.index(this);switch(e.key){case"ArrowDown":e.preventDefault(),a.eq((i+1)%a.length).focus();break;case"ArrowUp":e.preventDefault(),a.eq((i-1+a.length)%a.length).focus();break;case"Home":e.preventDefault(),a.first().focus();break;case"End":e.preventDefault(),a.last().focus()}}),t(".products-grid").on("keydown",".product-item",function(e){var a=t(this).closest(".products-grid").find(".product-item"),i=a.index(this),n=parseInt(t(this).closest(".products-grid").attr("data-columns")||3);switch(e.key){case"ArrowRight":e.preventDefault(),a.eq((i+1)%a.length).find("a, button").first().focus();break;case"ArrowLeft":e.preventDefault(),a.eq((i-1+a.length)%a.length).find("a, button").first().focus();break;case"ArrowDown":e.preventDefault();var s=i+n;s<a.length&&a.eq(s).find("a, button").first().focus();break;case"ArrowUp":e.preventDefault();var o=i-n;o>=0&&a.eq(o).find("a, button").first().focus()}})},setupSkipLinks:function(){t("body").prepend('\n                <div class="skip-links sr-only">\n                    <a href="#main-content" class="skip-link">Skip to main content</a>\n                    <a href="#navigation" class="skip-link">Skip to navigation</a>\n                    <a href="#search" class="skip-link">Skip to search</a>\n                    <a href="#footer" class="skip-link">Skip to footer</a>\n                </div>\n            '),t(".skip-link").on("focus",function(){t(this).removeClass("sr-only").addClass("skip-link-visible")}).on("blur",function(){t(this).addClass("sr-only").removeClass("skip-link-visible")})},setupFocusManagement:function(){t(document).on("keydown",".modal.is-active",function(e){if("Tab"===e.key){var a=t(this).find('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=a.first(),n=a.last();e.shiftKey?document.activeElement===i[0]&&(e.preventDefault(),n.focus()):document.activeElement===n[0]&&(e.preventDefault(),i.focus())}}),t("*").on("focus",function(){t(this).addClass("has-focus")}).on("blur",function(){t(this).removeClass("has-focus")});var e=null;t(document).on("click","[data-modal-trigger]",function(){e=this}),t(document).on("click",".modal-close",function(){e&&(t(e).focus(),e=null)})},setupARIALabels:function(){t("button:not([aria-label])").each(function(){var e=t(this);if(!e.text().trim()){var a=e.find("i").attr("class")||"";a.includes("search")?e.attr("aria-label","Search"):a.includes("menu")?e.attr("aria-label","Menu"):a.includes("close")?e.attr("aria-label","Close"):a.includes("cart")?e.attr("aria-label","Shopping cart"):e.attr("aria-label","Button")}}),t("input:not([aria-label]), select:not([aria-label]), textarea:not([aria-label])").each(function(){var e=t(this);if(0===t('label[for="'+e.attr("id")+'"]').length){var a=e.attr("placeholder");a&&e.attr("aria-label",a)}}),t("[data-dropdown]").attr("aria-expanded","false"),t(document).on("click","[data-dropdown]",function(){var e="true"===t(this).attr("aria-expanded");t(this).attr("aria-expanded",!e)}),t("body").append('<div id="aria-live-polite" aria-live="polite" aria-atomic="true" class="sr-only"></div>'),t("body").append('<div id="aria-live-assertive" aria-live="assertive" aria-atomic="true" class="sr-only"></div>')},setupHighContrast:function(){window.matchMedia("(prefers-contrast: high)").matches&&document.body.classList.add("high-contrast");t(".accessibility-controls").append('\n                <button type="button" class="accessibility-toggle contrast-toggle" aria-label="Toggle high contrast">\n                    <span class="toggle-icon">âš«</span>\n                    <span class="toggle-text">High Contrast</span>\n                </button>\n            '),t(document).on("click",".contrast-toggle",function(){document.body.classList.toggle("high-contrast");var t=document.body.classList.contains("high-contrast");localStorage.setItem("aqualuxe-high-contrast",t),this.announceChange("High contrast "+(t?"enabled":"disabled"))}),"true"===localStorage.getItem("aqualuxe-high-contrast")&&document.body.classList.add("high-contrast")},setupTextScaling:function(){var e=this;t(".accessibility-controls").append('\n                <div class="text-size-controls">\n                    <button type="button" class="accessibility-toggle text-size-decrease" aria-label="Decrease text size">A-</button>\n                    <button type="button" class="accessibility-toggle text-size-reset" aria-label="Reset text size">A</button>\n                    <button type="button" class="accessibility-toggle text-size-increase" aria-label="Increase text size">A+</button>\n                </div>\n            ');var a=parseFloat(localStorage.getItem("aqualuxe-text-scale")||"1");this.applyTextScale(a),t(document).on("click",".text-size-increase",function(){a=Math.min(a+.1,2),e.applyTextScale(a),e.announceChange("Text size increased")}),t(document).on("click",".text-size-decrease",function(){a=Math.max(a-.1,.8),e.applyTextScale(a),e.announceChange("Text size decreased")}),t(document).on("click",".text-size-reset",function(){a=1,e.applyTextScale(a),e.announceChange("Text size reset to default")})},applyTextScale:function(t){document.documentElement.style.fontSize=16*t+"px",localStorage.setItem("aqualuxe-text-scale",t.toString())},setupScreenReaderEnhancements:function(){var e=this;t(".product-item").each(function(){var e=t(this),a=e.find(".product-title").text(),i=e.find(".price").text(),n=e.find(".rating").attr("data-rating")||"No rating";e.attr("aria-label","".concat(a,", ").concat(i,", Rating: ").concat(n))}),t("input, select, textarea").on("invalid",function(){var e=t(this),a=this.validationMessage;e.attr("aria-describedby","validation-message-"+e.attr("id")),t("#validation-message-"+e.attr("id")).length||e.after('<div id="validation-message-'.concat(e.attr("id"),'" class="validation-message sr-only" role="alert">').concat(a,"</div>"))}),new MutationObserver(function(){var t=document.title;e.lastAnnouncedTitle!==t&&(e.announceChange("Page changed to: ".concat(t),"assertive"),e.lastAnnouncedTitle=t)}).observe(document.querySelector("title"),{childList:!0})},setupReducedMotion:function(){window.matchMedia("(prefers-reduced-motion: reduce)").matches&&document.body.classList.add("reduced-motion");t(".accessibility-controls").append('\n                <button type="button" class="accessibility-toggle motion-toggle" aria-label="Toggle reduced motion">\n                    <span class="toggle-icon">ðŸŽ­</span>\n                    <span class="toggle-text">Reduced Motion</span>\n                </button>\n            '),t(document).on("click",".motion-toggle",function(){document.body.classList.toggle("reduced-motion");var t=document.body.classList.contains("reduced-motion");localStorage.setItem("aqualuxe-reduced-motion",t),this.announceChange("Reduced motion "+(t?"enabled":"disabled"))}),"true"===localStorage.getItem("aqualuxe-reduced-motion")&&document.body.classList.add("reduced-motion")},setupFormAccessibility:function(){t("input[required], select[required], textarea[required]").each(function(){var e=t(this),a=t('label[for="'+e.attr("id")+'"]');a.length&&!a.find(".required-indicator").length&&a.append(' <span class="required-indicator" aria-label="required">*</span>'),e.attr("aria-required","true")}),t("form").on("submit",function(){var e=t(this).find(":invalid");if(e.length>0){var a=e.length;this.announceChange("Form has ".concat(a," error").concat(a>1?"s":"",". Please review and correct."),"assertive"),e.first().focus()}else this.announceChange("Form submitted successfully","polite")}),t("input, select, textarea").on("blur",function(){var e=t(this);this.checkValidity()?(e.removeClass("invalid").addClass("valid"),e.attr("aria-invalid","false")):(e.removeClass("valid").addClass("invalid"),e.attr("aria-invalid","true"))})},setupModalAccessibility:function(){t(".modal").each(function(){var e=t(this);if(e.attr({role:"dialog","aria-modal":"true","aria-hidden":"true"}),!e.attr("aria-labelledby")){var a=e.find(".modal-title, h1, h2, h3").first();if(a.length){var i="modal-title-"+Math.random().toString(36).substr(2,9);a.attr("id",i),e.attr("aria-labelledby",i)}}}),t(document).on("click","[data-modal-trigger]",function(){var e=t(this).attr("data-modal-trigger"),a=t("#"+e);a.attr("aria-hidden","false"),a.find('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])').first().focus()}),t(document).on("click",".modal-close",function(){t(this).closest(".modal").attr("aria-hidden","true")})},setupCarouselAccessibility:function(){t(".carousel, .slider").each(function(){var e=t(this);e.attr({role:"region","aria-label":"Image carousel"});var a=e.find(".slide");a.each(function(e){t(this).attr({role:"tabpanel","aria-label":"Slide ".concat(e+1," of ").concat(a.length)})}),e.on("keydown",function(t){switch(t.key){case"ArrowLeft":t.preventDefault(),e.find(".carousel-prev").trigger("click");break;case"ArrowRight":t.preventDefault(),e.find(".carousel-next").trigger("click")}})})},addAccessibilityControls:function(){t("body").append('\n                <div class="accessibility-controls" role="region" aria-label="Accessibility controls">\n                    <button type="button" class="accessibility-toggle-panel" aria-label="Toggle accessibility options">\n                        <span class="icon">â™¿</span>\n                        <span class="text">Accessibility</span>\n                    </button>\n                    <div class="accessibility-panel" aria-hidden="true">\n                        <h3>Accessibility Options</h3>\n                        \x3c!-- Controls will be added by other methods --\x3e\n                    </div>\n                </div>\n            '),t(document).on("click",".accessibility-toggle-panel",function(){var e=t(".accessibility-panel"),a="false"===e.attr("aria-hidden");e.attr("aria-hidden",a),e.toggleClass("is-visible"),t(this).attr("aria-expanded",!a)})},announceChange:function(e){var a=t("#aria-live-"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite"));a.text(e),setTimeout(function(){a.text("")},1e3)},lastAnnouncedTitle:document.title};t(document).ready(function(){e.init()}),window.AquaLuxeAccessibility=e}(jQuery)}},function(t){var e;e=676,t(t.s=e)}]);